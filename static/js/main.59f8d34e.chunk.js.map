{"version":3,"sources":["components/Elcap.js","App.js","index.js"],"names":["Column","Table","HeaderCell","Cell","Pagination","Elcap","props","keys","state","loading","data","table","options","selectedOptions","selectOption","bind","clear","fetch","then","response","json","setState","getFullOptions","this","reduce","set","key","arr","Set","map","i","sort","a","b","replace","value","label","Object","forEach","length","filter","item","some","style","padding","CheckPicker","searchable","placeholder","onSelect","onClean","minWidth","marginRight","Button","onClick","virtualized","height","affixHeader","width","align","dataKey","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.59f8d34e.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Table, CheckPicker, Button } from 'rsuite';\r\n\r\nconst { Column, HeaderCell, Cell, Pagination } = Table;\r\n\r\nclass Elcap extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.keys = ['manufacture', 'series', 'cap', 'volt', 'd', 'h'];\r\n    this.state = {\r\n      loading: true,\r\n      data: [],\r\n      table: [],\r\n      options: {},\r\n      selectedOptions: {}\r\n    };\r\n    this.selectOption = this.selectOption.bind(this);\r\n    this.clear = this.clear.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch('./data/data.json')\r\n      .then(response => response.json())\r\n      .then(data =>\r\n        this.setState({\r\n          loading: false,\r\n          data,\r\n          table: data,\r\n          options: this.getFullOptions(data),\r\n          selectedOptions: {},\r\n        })\r\n      );\r\n  }\r\n\r\n  getFullOptions(data) {\r\n    return this.keys.reduce((set, key) => {\r\n      let arr = [...new Set(data.map(i => i[key]))];\r\n      if (key === 'volt') arr = arr.sort((a, b) => {\r\n        a = a.replace('V', '');\r\n        b = b.replace('V', '');\r\n        return a - b;\r\n      });\r\n      const options = arr.map(i => {\r\n        let data = {};\r\n        data.value = i;\r\n        data.label = i;\r\n        return data;\r\n      })\r\n      set[key] = options;\r\n      return set\r\n    }, {});\r\n  }\r\n\r\n  selectOption(arr, key) {\r\n    const selectedOptions = { ...this.state.selectedOptions };\r\n    selectedOptions[key] = [...arr];\r\n    let table = [...this.state.data];\r\n\r\n    Object.keys(selectedOptions).forEach(key => {\r\n      const arr = selectedOptions[key];\r\n      if (arr.length !== 0) {\r\n        table = table.filter(item => arr.some(i => i === item[key]));\r\n      }\r\n    })\r\n\r\n    this.setState({ selectedOptions, table });\r\n  }\r\n\r\n  clear() {\r\n    const selectedOptions = {};\r\n    this.keys.forEach(key => selectedOptions[key] = []);\r\n    this.setState({\r\n      selectedOptions,\r\n      table: [...this.state.data],\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ padding: 20 }}>\r\n\r\n        <div>\r\n\r\n          {this.keys.map(key => (\r\n            <CheckPicker\r\n              key={key}\r\n              searchable={false}\r\n              placeholder={key}\r\n              data={this.state.options[key]}\r\n              onSelect={value => this.selectOption(value, key)}\r\n              onClean={() => this.selectOption([], key)}\r\n              value={this.state.selectedOptions[key]}\r\n              style={{ minWidth: 120, marginRight: 20 }}\r\n            />\r\n          ))}\r\n\r\n          <Button onClick={this.clear}>Очистить</Button>\r\n\r\n          {/* <Button onClick={() => console.log(this.state)}>State</Button> */}\r\n\r\n        </div>\r\n\r\n        <Table\r\n          loading={this.state.loading}\r\n          virtualized\r\n          height={700}\r\n          affixHeader\r\n          data={this.state.table}\r\n        >\r\n\r\n          <Column width={100} align=\"center\">\r\n            <HeaderCell>id</HeaderCell>\r\n            <Cell dataKey=\"id\" />\r\n          </Column>\r\n\r\n          <Column width={100} align=\"center\">\r\n            <HeaderCell>Manufacture</HeaderCell>\r\n            <Cell dataKey=\"manufacture\" />\r\n          </Column>\r\n\r\n          <Column width={100} align=\"center\" >\r\n            <HeaderCell>Series</HeaderCell>\r\n            <Cell dataKey=\"series\" />\r\n          </Column>\r\n\r\n          <Column width={100} align=\"center\" >\r\n            <HeaderCell>Cap, uF</HeaderCell>\r\n            <Cell dataKey=\"cap\" />\r\n          </Column>\r\n\r\n          <Column width={100} align=\"center\" >\r\n            <HeaderCell>Volt</HeaderCell>\r\n            <Cell dataKey=\"volt\" />\r\n          </Column>\r\n\r\n          <Column width={100} align=\"center\" >\r\n            <HeaderCell>Diameter</HeaderCell>\r\n            <Cell dataKey=\"d\" />\r\n          </Column>\r\n\r\n          <Column width={100} align=\"center\" >\r\n            <HeaderCell>Height</HeaderCell>\r\n            <Cell dataKey=\"h\" />\r\n          </Column>\r\n\r\n          <Column width={100} align=\"center\" >\r\n            <HeaderCell>Min order</HeaderCell>\r\n            <Cell dataKey=\"min\" />\r\n          </Column>\r\n\r\n          <Column width={100} align=\"center\" >\r\n            <HeaderCell>Price, RUB</HeaderCell>\r\n            <Cell dataKey=\"sell\" />\r\n          </Column>\r\n\r\n\r\n        </Table>\r\n\r\n        <Pagination></Pagination>\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Elcap;\r\n","import React from 'react';\nimport Elcap from './components/Elcap';\n\nconst App = () => {\n  return (\n    <Elcap />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'rsuite/dist/styles/rsuite-default.css';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}